<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>登录页面</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="/js/bootstrap-4.1.1-dist/css/bootstrap.min.css">
	<script src="/js/jquery/jquery.min.js"></script>
	<script src="/js/bootstrap-4.1.1-dist/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="/css/font/css/font-awesome.min.css" >
	<link rel="stylesheet" href="/css/reset.css" >
	<link rel="stylesheet" href="/css/login.css" >
	<script src="/js/plugins/form/jquery.form.js"></script>
	<link rel="stylesheet" href="/js/plugins/dialog2/dialog.css">
	<script src="/js/plugins/dialog2/dialog.min.js"></script>
	<script src="/js/plugins/jrender/jrender.min.js"></script>
	<script>
		$(function () {
		    //如果用户存在返回的json字符串,如果存在,那就直接登录
			//如果该用户不存在,b那么告诉用户邮箱或密码出错
			//发送ajaxFrom异步请求
			$("#loginForm").ajaxForm(function (data) {
				if(data.success){
                    //登录成功后的用户信息,存到sessionStorage(把json对象转换成字符串在存储)
					sessionStorage.setItem("user",JSON.stringify(data.obj))
                    //账号存在,跳转index界面直接显示
					window.parent.location.href = "/index.html";
				}else{
                    $(document).dialog({
                        content: data.msg,
                    });
				}
            })
        })
	</script>
</head>
<body>
<div class="container" >
	<h5>登录</h5>

	<div class="card card-container ">
		<i id="profile-img" class="fa fa-user-circle fa-5x profile-img" ></i>
		<!--注意这里需要添加action和method的属性-->
		<form class="form-signin" id="loginForm" action="/sessions" method="post">
			<input type="email"  name="email" value="chenhui@wolfcode.cn" class="form-control badge-pill" placeholder="邮箱"  >
			<input type="password"  name="password" value="1" class="form-control badge-pill" placeholder="密码" >
			<a href="#" class="forgot-password">
				忘记密码？
			</a>
			<button class="btn btn-lg badge-pill" type="submit" >登录</button>
		</form>
	</div>


	<a href="register.html" class="registerLink" >
		新用户？点击这里注册
	</a>
</div>

</body>
</html>
